(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{96245:function(e,t,n){"use strict";function r(e){this.message=e}r.prototype=Error(),r.prototype.name="InvalidCharacterError";var o="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new r("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,o,a=0,i=0,l="";o=t.charAt(i++);~o&&(n=a%4?64*n+o:o,a++%4)&&(l+=String.fromCharCode(255&n>>(-2*a&6))))o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(o);return l};function a(e){this.message=e}a.prototype=Error(),a.prototype.name="InvalidTokenError",t.Z=function(e,t){if("string"!=typeof e)throw new a("Invalid token specified");var n=!0===(t=t||{}).header?0:1;try{return JSON.parse(function(e){var t,n=e.replace(/-/g,"+").replace(/_/g,"/");switch(n.length%4){case 0:break;case 2:n+="==";break;case 3:n+="=";break;default:throw"Illegal base64url string!"}try{return t=n,decodeURIComponent(o(t).replace(/(.)/g,function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}catch(e){return o(n)}}(e.split(".")[n]))}catch(e){throw new a("Invalid token specified: "+e.message)}}},62170:function(e,t,n){"use strict";n.d(t,{YG:function(){return a},gy:function(){return i},o4:function(){return o}});var r=n(96245);function o(e){localStorage.setItem("access_token",e)}function a(){var e=localStorage.getItem("access_token");return e?(0,r.Z)(e):null}function i(){localStorage.removeItem("access_token")}},85467:function(e,t,n){"use strict";n.r(t);var r=n(50029),o=n(64687),a=n.n(o),i=n(67294),l=n(11163),c=n(62170),s=n(25675),u=n.n(s),p=n(41664),d=n.n(p),f={container:{display:"flex",height:"100vh",flexDirection:"row"},leftContainer:{width:"50%",padding:"50px",display:"flex",flexDirection:"column",justifyContent:"center",backgroundColor:"#fff"},logoContainer:{display:"flex",alignItems:"center",marginBottom:"20px"},logo:{width:"40px",marginRight:"10px"},logoText:{fontSize:"24px",fontWeight:"bold",color:"#0070f3"},welcomeText:{fontSize:"2.5rem",marginBottom:"10px"},subText:{fontSize:"1rem",marginBottom:"30px",color:"#777"},form:{display:"flex",flexDirection:"column"},inputGroup:{marginBottom:"20px"},label:{fontSize:"1rem",marginBottom:"8px",display:"block"},input:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid #ccc",fontSize:"1rem"},signInButton:{backgroundColor:"#1E90FF",color:"#fff",padding:"15px",borderRadius:"8px",border:"none",cursor:"pointer",fontSize:"1rem"},signUpText:{textAlign:"center",marginTop:"30px",fontSize:"0.9rem",color:"#777"},rightContainer:{width:"50%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",backgroundColor:"#E6E6FA"},error:{color:"red",marginBottom:"10px"}};t.default=function(){var e=(0,i.useState)(""),t=e[0],n=e[1],o=(0,i.useState)(""),s=o[0],p=o[1],g=(0,i.useState)(""),m=g[0],h=g[1],y=(0,l.useRouter)();function x(){return(x=(0,r.Z)(a().mark(function e(n){var r,o,i;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:s})});case 4:if(!(r=e.sent).ok){e.next=13;break}return e.next=8,r.json();case 8:o=e.sent,(0,c.o4)(o.token),y.push("/dashboard"),e.next=17;break;case 13:return e.next=15,r.json();case 15:"Invalid password"===(i=e.sent).error?h("Incorrect password. Please try again."):"User not found"===i.error?h("User not found. Please check your credentials."):h("Login failed. Please try again.");case 17:e.next=23;break;case 19:e.prev=19,e.t0=e.catch(1),console.error("Error logging in user:",e.t0.message),h("An error occurred, please try again later");case 23:case"end":return e.stop()}},e,null,[[1,19]])}))).apply(this,arguments)}return i.createElement("div",{style:f.container},i.createElement("div",{style:f.leftContainer},i.createElement("div",{style:f.logoContainer},i.createElement("img",{src:"/logo.jpeg",alt:"Astrology Logo",style:f.logo,className:"d-inline-block align-top rounded-circle"}),i.createElement("h2",{style:f.logoText},"Astrology")),i.createElement("h1",{style:f.welcomeText},"Welcome Back!"),i.createElement("p",{style:f.subText},"Please enter your login details below"),m&&i.createElement("p",{style:f.error},m),i.createElement("form",{onSubmit:function(e){return x.apply(this,arguments)},style:f.form},i.createElement("div",{style:f.inputGroup},i.createElement("label",{style:f.label},"Email:"),i.createElement("input",{type:"email",placeholder:"Enter the email",value:t,onChange:function(e){return n(e.target.value)},style:f.input})),i.createElement("div",{style:f.inputGroup},i.createElement("label",{style:f.label},"Password:"),i.createElement("input",{type:"password",placeholder:"Enter the password",value:s,onChange:function(e){return p(e.target.value)},style:f.input})),i.createElement("button",{type:"submit",style:f.signInButton},"Sign in")),i.createElement("div",{style:f.signUpText},i.createElement("span",null,"Do not have an account? "),i.createElement(d(),{href:"/register"},"Sign Up"))),i.createElement("div",{style:f.rightContainer},i.createElement(u(),{src:"/login.jpg",alt:"Login Background",width:900,height:940})))}},36429:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return n(85467)}])},11163:function(e,t,n){e.exports=n(11171)},50029:function(e,t,n){"use strict";function r(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(e){n(e);return}l.done?t(c):Promise.resolve(c).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise(function(o,a){var i=e.apply(t,n);function l(e){r(i,o,a,l,c,"next",e)}function c(e){r(i,o,a,l,c,"throw",e)}l(void 0)})}}n.d(t,{Z:function(){return o}})}},function(e){e.O(0,[61,888,774,179],function(){return e(e.s=36429)}),_N_E=e.O()}]);